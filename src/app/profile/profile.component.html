<div class="profile">

  <div class="profile__title">

    <div class="profile__image" [style.background-image]="'url(' + image + ')'">
      <input hidden id="edit" type="file" accept=".png,.jpg,.jpeg" (change)="uploadImage($event.target.files[0])" />
      <label for="edit">
        <mat-icon class="profile__image-button" svgIcon="edit"></mat-icon>
      </label>
      <mat-icon class="profile__image-button" svgIcon="delete" (click)="deleteImage()"></mat-icon>
    </div>

    <h1 class="profile__title-name">{{user?.username}}</h1>

  </div>

  <h2>My submissions</h2>

  <div class="profile__submission-block">
    <mat-card class="profile__submission-container" *ngFor="let submission of submissions">

      <mat-card-header class="profile__submission-header">
        <mat-card-title class="profile__submission-title">Submission #{{submission.number}}</mat-card-title>
      </mat-card-header>

      <mat-card-content class="profile__submission-content">

        <p>
          <span class="profile__submission-name bold-text">Manuscript</span>
          <span>
            {{submission.manuscript}}
            <mat-icon class="profile__submission-download" svgIcon="download"
              (click)="downloadSubmissionFile({ submission: submission.number, name: submission.manuscript})">
            </mat-icon>
          </span>
        </p>
        <p>
          <span class="profile__submission-name bold-text">Information about the author(-s)</span>
          <span>
            {{submission.about}}
            <mat-icon class="profile__submission-download" svgIcon="download"
              (click)="downloadSubmissionFile({ submission: submission.number, name: submission.about})">
            </mat-icon>
          </span>
        </p>
        <p>
          <span class="profile__submission-name bold-text">Publication agreement</span>
          <span>
            {{submission.agreement}}
            <mat-icon class="profile__submission-download" svgIcon="download"
              (click)="downloadSubmissionFile({ submission: submission.number, name: submission.agreement})">
            </mat-icon>
          </span>
        </p>
        <p>
          <span class="profile__submission-name bold-text">Anonymous file for double-blind peer review</span>
          <span>
            {{submission.anonymous}}
            <mat-icon class="profile__submission-download" svgIcon="download"
              (click)="downloadSubmissionFile({ submission: submission.number, name: submission.anonymous})">
            </mat-icon>
          </span>
        </p>

        <hr class="profile__submission-divider">

        <p>
          <span class="profile__submission-name bold-text">Status</span>
          <span>{{submission.status}}</span>
        </p>

      </mat-card-content>

    </mat-card>
  </div>

  <p *ngIf="!submissions">
    There's no submissions for now
  </p>

  <button class="profile__delete" mat-flat-button color="warn" (click)="deleteUser()">Delete my account</button>

</div>